{
  "name": "device.update.1.0.0",
  "method": "PUT",
  "path": "/devices/(\\d+)",
  "authentication": true,
  "scope": "device:write",
  "appkey": true,
  "app_code_vertify": true,
  "body.arg": [
    {
      "name": "name",
      "rules": {
        "maxLength": 64
      }
    },
    {
      "name": "location",
      "rules": {
        "maxLength": 16
      }
    },
    {
      "name": "defendState",
      "rules": {
        "optional": [
          1,
          2,
          3
        ]
      }
    },
    {
      "name": "delayEnable",
      "rules": {
        "optional": [
          "true",
          "false"
        ]
      }
    },
    {
      "name": "sirenDuration",
      "rules": {
        "integer": true,
        "min": 0,
        "max": 1800
      }
    },
    {
      "name": "alarmDelay",
      "rules": {
        "integer": true,
        "min": 0,
        "max": 300
      }
    },
    {
      "name": "dependDelay",
      "rules": {
        "integer": true,
        "min": 0,
        "max": 300
      }
    },
    {
      "name": "sensibility",
      "rules": {
        "integer": true,
        "optional": [
          1,
          2,
          3
        ]
      }
    },
    {
      "name": "sirenVolume",
      "rules": {
        "integer": true,
        "optional": [
          0,
          1,
          2,
          3,
          4,
          5
        ]
      }
    },
    {
      "name": "p2pUsername",
      "rules": {
        "maxLength": 60
      }
    },
    {
      "name": "p2pPassword",
      "rules": {
        "maxLength": 60
      }
    },
    {
      "name": "p2pVolume",
      "rules": {
        "integer": true,
        "min": 0,
        "max": 60
      }
    },
    {
      "name": "alarmEnable",
      "rules": {
        "optional": [
          0,
          1
        ]
      }
    },
    {
      "name": "dbLightEnable",
      "rules": {
        "optional": [
          0,
          1
        ]
      }
    },
    {
      "name": "doorbellRing",
      "rules": {
        "integer": true,
        "optional": [
          0,
          1,
          2
        ]
      }
    },
    {
      "name": "senseTime",
      "rules": {
        "integer": true,
        "optional": [
          1,
          3,
          5,
          10,
          15,
          20
        ]
      }
    },
    {
      "name": "senseSensitivity",
      "rules": {
        "integer": true,
        "optional": [
          1,
          2
        ]
      }
    },
    {
      "name": "ringtone",
      "rules": {
        "integer": true,
        "min": 1,
        "max": 6
      }
    },
    {
      "name": "volume",
      "rules": {
        "integer": true,
        "min": 1,
        "max": 7
      }
    },
    {
      "name": "captureNum",
      "rules": {
        "integer": true,
        "optional": [
          1,
          3,
          5
        ]
      }
    },
    {
      "name": "format",
      "rules": {
        "integer": true,
        "optional": [
          0,
          1
        ]
      }
    }
  ],
  "endpoints": [
    {
      "service": "device",
      "method": "PUT",
      "name": "update_device",
      "type": "http",
      "path": "/devices/$var.param0"
    }
  ],
  "request.transformer": [
    {
      "name": "update_device",
      "body.add": [
        "userId:$user.userId"
      ],
      "header.add": [
        "x-auth-userId:$user.userId",
        "x-auth-companyCode:$user.companyCode",
        "x-policy-owner:individual"
      ]
    }
  ]
}